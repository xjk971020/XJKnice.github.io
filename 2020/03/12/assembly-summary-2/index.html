<!DOCTYPE html>
<html lang="zh-Hans">
  <head><meta name="generator" content="Hexo 3.9.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="assembly-summary-2">




  <meta name="keywords" content="编译原理,">





  <link rel="alternate" href="/default" title="Cathetine's Blog">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1">



<link rel="canonical" href="http://yoursite.com/2020/03/12/assembly-summary-2/">


<meta name="description" content="第二章、寄存器(CPU的工作原理)引言 CPU由运算器、控制器、寄存器 等器件组成，靠内部总线相连。 内部总线实现CPU内部各器件之间的联系；外部总线实现CPU和主板上其他器件的联系。 在CPU中： 运算器进行信息处理； 寄存器进行信息存储； 控制器控制各种器件进行工作； 内部总线连接各种器件在它们之间进行数据的传送。    2.1 通用寄存器 8086有14个寄存器： AX、BX、CX、DX、S">
<meta name="keywords" content="编译原理">
<meta property="og:type" content="article">
<meta property="og:title" content="assembly-summary-2">
<meta property="og:url" content="http://yoursite.com/2020/03/12/assembly-summary-2/index.html">
<meta property="og:site_name" content="Cathetine&#39;s Blog">
<meta property="og:description" content="第二章、寄存器(CPU的工作原理)引言 CPU由运算器、控制器、寄存器 等器件组成，靠内部总线相连。 内部总线实现CPU内部各器件之间的联系；外部总线实现CPU和主板上其他器件的联系。 在CPU中： 运算器进行信息处理； 寄存器进行信息存储； 控制器控制各种器件进行工作； 内部总线连接各种器件在它们之间进行数据的传送。    2.1 通用寄存器 8086有14个寄存器： AX、BX、CX、DX、S">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-1.jpg">
<meta property="og:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-2.jpg">
<meta property="og:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-3.jpg">
<meta property="og:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-4.jpg">
<meta property="og:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-5.jpg">
<meta property="og:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-6.jpg">
<meta property="og:updated_time" content="2020-03-31T06:36:30.032Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="assembly-summary-2">
<meta name="twitter:description" content="第二章、寄存器(CPU的工作原理)引言 CPU由运算器、控制器、寄存器 等器件组成，靠内部总线相连。 内部总线实现CPU内部各器件之间的联系；外部总线实现CPU和主板上其他器件的联系。 在CPU中： 运算器进行信息处理； 寄存器进行信息存储； 控制器控制各种器件进行工作； 内部总线连接各种器件在它们之间进行数据的传送。    2.1 通用寄存器 8086有14个寄存器： AX、BX、CX、DX、S">
<meta name="twitter:image" content="http://cdn.cathetine.cn/blog/images/assembly/2-1.jpg">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> assembly-summary-2 - Cathetine's Blog </title>
  <link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Cathetine's Blog</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          assembly-summary-2
        
      </h1>

      <time class="post-time">
          Mar 12 2020
      </time>
    </header>



    
            <div class="post-content">
            <h1 id="第二章、寄存器-CPU的工作原理"><a href="#第二章、寄存器-CPU的工作原理" class="headerlink" title="第二章、寄存器(CPU的工作原理)"></a>第二章、寄存器(CPU的工作原理)</h1><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><ul>
<li>CPU由运算器、控制器、寄存器 等器件组成，靠内部总线相连。</li>
<li>内部总线实现CPU内部各器件之间的联系；外部总线实现CPU和主板上其他器件的联系。</li>
<li>在CPU中：<ul>
<li>运算器进行信息处理；</li>
<li>寄存器进行信息存储；</li>
<li>控制器控制各种器件进行工作；</li>
<li>内部总线连接各种器件在它们之间进行数据的传送。</li>
</ul>
</li>
</ul>
<h2 id="2-1-通用寄存器"><a href="#2-1-通用寄存器" class="headerlink" title="2.1 通用寄存器"></a>2.1 通用寄存器</h2><ul>
<li>8086有14个寄存器：<ul>
<li><strong>AX、BX、CX、DX、SI、DI、SP、BP、IP、CS、SS、CS、ES、PSW</strong>。</li>
</ul>
</li>
<li>AX、BX、CX、DX通常用来存放一般性数据，被称为通用寄存器。</li>
<li>16位寄存器所能存储的数据最大值为2^16-1 。</li>
<li>为保证兼容性，8086 CPU的通用寄存器可以分为两个独立的8位寄存器使用。<strong>例：</strong> AX可分为AH和AL。</li>
</ul>
<h2 id="2-2-字在寄存器中的存储"><a href="#2-2-字在寄存器中的存储" class="headerlink" title="2.2 字在寄存器中的存储"></a>2.2 字在寄存器中的存储</h2><ul>
<li>8086 CPU所有的寄存器是16位，可以存放2个字节(一个字)。</li>
<li>一字节由8 bit 组成，可以存在8位寄存器中。</li>
<li>字(word)是两字节，16位。</li>
</ul>
<p><img src="http://cdn.cathetine.cn/blog/images/assembly/2-1.jpg" alt></p>
<h2 id="2-3-几条汇编指令"><a href="#2-3-几条汇编指令" class="headerlink" title="2.3 几条汇编指令"></a>2.3 几条汇编指令</h2><ul>
<li><p>汇编指令对大小写不敏感</p>
<p>汇编指令举例</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>汇编指令</th>
<th>控制CPU完成的操作</th>
<th>用高级语言的语法描述</th>
</tr>
</thead>
<tbody><tr>
<td>mov ax，18</td>
<td>将18送入AX</td>
<td>AX=18</td>
</tr>
<tr>
<td>mov ah，78</td>
<td>将78送入AH</td>
<td>AH=78</td>
</tr>
<tr>
<td>add ax，8</td>
<td>将寄存器AX中的数值加上8结果存入AX中</td>
<td>AX=AX+8</td>
</tr>
<tr>
<td>mov ax，bx</td>
<td>将寄存器BX中的数据送入寄存器AX</td>
<td>AX=BX</td>
</tr>
<tr>
<td>add ax，bx</td>
<td>将AX，BX中的内容相加结果存入AX中</td>
<td>AX=AX+BX</td>
</tr>
</tbody></table>
<h2 id="2-4-物理地址"><a href="#2-4-物理地址" class="headerlink" title="2.4 物理地址"></a>2.4 物理地址</h2><ul>
<li>所有的内存单元构成一个一维的线性存储空间。</li>
<li>CPU访问内存单元时要给出内存单元的唯一地址就是物理地址。</li>
</ul>
<h2 id="2-5-16位结构的CPU"><a href="#2-5-16位结构的CPU" class="headerlink" title="2.5 16位结构的CPU"></a>2.5 16位结构的CPU</h2><ul>
<li>1、运算器一次最多可以处理16位数据。</li>
<li>2、 寄存器的最大宽度为16位。</li>
<li>3、寄存器和运算器之间的通路是16位。</li>
</ul>
<h2 id="2-6-8086-CPU给出物理地址的方法"><a href="#2-6-8086-CPU给出物理地址的方法" class="headerlink" title="2.6 8086 CPU给出物理地址的方法"></a>2.6 8086 CPU给出物理地址的方法</h2><ul>
<li>8086有20位的地址总线，可以传送20位地址，寻址能力为1M；但8086内部为16位结构，只能传送16位的地址。</li>
<li><strong>8086CPU采用一种在内部用两个16位地址合成的方法来形成一个20位的物理地址。</strong></li>
</ul>
<p><img src="http://cdn.cathetine.cn/blog/images/assembly/2-2.jpg" alt></p>
<ul>
<li>8086CPU读写内存的步骤：<ul>
<li>1、CPU中的相关部件提供段地址和偏移地址这两个16位的地址；</li>
<li>2、段地址和偏移地址通过内部总线送入到一个称为地址加法器的部件；</li>
<li>3、地址加法器将两个16位地址合并成一个20位的地址；</li>
<li>4、地址加法器通过内部总线将20位物理地址送入输入输出控制电路；</li>
<li>5、输入输出控制电路将20位物理地址送上地址总线；</li>
<li>6、20位物理地址被地址总线传送到存储器。</li>
</ul>
</li>
<li>地址加法器工作原理：<strong>物理地址=段地址*16+偏移地址。</strong></li>
</ul>
<p><img src="http://cdn.cathetine.cn/blog/images/assembly/2-3.jpg" alt></p>
<p> 段地址*16就是数据左移4位(二进制)</p>
<table>
<thead>
<tr>
<th>移位位数</th>
<th>二进制</th>
<th>十六进制</th>
<th>十进制</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>10B</td>
<td>2H</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>100B</td>
<td>4H</td>
<td>4</td>
</tr>
<tr>
<td>2</td>
<td>1000B</td>
<td>8H</td>
<td>8</td>
</tr>
<tr>
<td>3</td>
<td>10000B</td>
<td>10H</td>
<td>16</td>
</tr>
<tr>
<td>4</td>
<td>100000B</td>
<td>20H</td>
<td>32</td>
</tr>
</tbody></table>
<ul>
<li><strong>一个数据的二进制形式左移N位，相当于该数据乘以2的N次方。一个数据X进制形式左移N位，相当乘以NX。</strong></li>
</ul>
<h2 id="2-7-段地址-16-偏移地址-物理地址"><a href="#2-7-段地址-16-偏移地址-物理地址" class="headerlink" title="2.7 段地址*16+偏移地址=物理地址"></a>2.7 段地址*16+偏移地址=物理地址</h2><ul>
<li><strong>CPU可以通过不同的段地址和偏移地址形成一个相同的物理地址。</strong></li>
</ul>
<p><img src="http://cdn.cathetine.cn/blog/images/assembly/2-4.jpg" alt></p>
<blockquote>
<p>段地址*16是移位</p>
</blockquote>
<h2 id="2-8-段的概念"><a href="#2-8-段的概念" class="headerlink" title="2.8 段的概念"></a>2.8 段的概念</h2><ul>
<li>人为定义的，将若干地址连续的内存单元看作一个段。用段地址*16定位段的起始地址(基址)，用偏移地址定位段中的内存单元。</li>
</ul>
<p><img src="http://cdn.cathetine.cn/blog/images/assembly/2-5.jpg" alt></p>
<p><strong>一个段的起始地址是16的倍数。偏移地址为16位，寻址能力为64K，所以段的最大长度也是64K。</strong></p>
<h2 id="2-9-段寄存器"><a href="#2-9-段寄存器" class="headerlink" title="2.9 段寄存器"></a>2.9 段寄存器</h2><ul>
<li>8086 CPU有4个段寄存器:<strong>CS(代码段)、DS(数据段)、SS(堆栈段)、ES(附加段)</strong>，这4个段提供给8086CPU内存单元的段地址。</li>
</ul>
<h2 id="2-10-CS和IP"><a href="#2-10-CS和IP" class="headerlink" title="2.10 CS和IP"></a>2.10 CS和IP</h2><ul>
<li><p><strong>CS(代码段寄存器)</strong> 和<strong>IP(指令指针寄存器)</strong> 是8086CPU中最关键的寄存器，它们指示了CPU当前要读取指令的地址。在任意时刻CPU将CS:IP指向的内容当作指令执行。</p>
</li>
<li><p>8086CPU工作过程的简要概述：</p>
<ul>
<li><p>1、从CS:IP指向内存单元读取指令，读取的指令进入指令缓冲器；</p>
<blockquote>
<p>8086PC机刚开始启动时，CPU从内存FFFF0h单元中读取指令执行，FFFF0h单元中的指令时8086PC机开机后执行的第一条指令。</p>
</blockquote>
</li>
<li><p>2、 IP=IP+所读取指令的长度，从而正确的指向下一条指令；</p>
</li>
<li><p>3、执行指令。转到步骤1，周而复始。</p>
</li>
</ul>
</li>
</ul>
<h2 id="2-11-修改CS、IP的指令"><a href="#2-11-修改CS、IP的指令" class="headerlink" title="2.11 修改CS、IP的指令"></a>2.11 修改CS、IP的指令</h2><ul>
<li><strong>mov指令(传送指令)</strong> 可以改变8086CPU大部分寄存器的值，但不能用于设置CS、IP的值。</li>
<li><strong>jmp指令(转移指令)</strong> 可以用来同时修改CS和IP的值，格式为</li>
</ul>
<pre class=" language-asm"><code class="language-asm">    jmp 段地址:偏移地址;同时修改CS和IP
    jmp 某一合法寄存器;则是仅修改IP12</code></pre>
<h2 id="2-12-代码段"><a href="#2-12-代码段" class="headerlink" title="2.12 代码段"></a>2.12 代码段</h2><ul>
<li>对于8086PC机，在编程时可以将长度为N(N小于等于64KB)的一组代码存在一组地址连续、起始地址为16的倍数的内存单元中，这段内存是用来存放代码的，从而定义了一个代码段。</li>
<li>利用CS:IP来指向内存单元从而让CPU执行其中的内容</li>
</ul>
<h2 id="使用Debug"><a href="#使用Debug" class="headerlink" title="使用Debug"></a>使用Debug</h2><blockquote>
<p>windows xp系统自带debug，请使用xp以上系统的读者执行自行下载debug.exe和dosbox，使用方法笔者不再赘述，在dosbox中可以使用debug。<br><img src="http://cdn.cathetine.cn/blog/images/assembly/2-6.jpg" alt="debug in dosbox"></p>
</blockquote>
<ul>
<li><strong>可以使用汇编金手指查阅指令。</strong></li>
<li><strong>R</strong>命令查看、改变CPU寄存器的内容；</li>
<li><strong>D</strong>命令查看内存中的内容；</li>
<li><strong>E</strong>命令改写内存中的内容；</li>
<li><strong>U</strong>命令将内存中的机器指令翻译成汇编指令；</li>
<li><strong>T</strong>命令执行一条机器指令；</li>
<li><strong>G</strong>命令跳转到偏移地址；</li>
<li><strong>P</strong>命令结束循环或者是int 21H时是退出程序；</li>
<li><strong>A</strong>命令是以汇编指令的格式在内存中写入一条机器指令。</li>
</ul>

            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/编译原理/">编译原理</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2020/03/13/assembly-summary-3/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">assembly-summary-3</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2020/03/11/assembly-summary-1/">
        <span class="next-text nav-default">assembly summary 1</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2020
    <span class="footer-author">Cathetine.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
